# 教工委新闻自动化简报系统 - 产品需求文档（PRD）

## 1. 背景与目标
目前教工委新闻简报依赖人工整理，过程繁琐、重复度高，且容易遗漏。  
目标是开发一个自动化系统，实现新闻的**采集、筛选、聚合、摘要、排序、人工校验与简报生成**，提高效率和准确性。

---

## 2. 功能需求

### 2.1 自动爬取新闻
- **来源**：
  - 今日头条（指定媒体全部新闻）
  - 部分指定网站
  - 搜索引擎（按关键词抓取当日新增新闻）
- **输出**：原始新闻列表（含标题、来源、正文、发布时间、链接）

### 2.2 过滤与去重
- **去重**：
  - 标题相同或正文高相似度 → 保留一条
- **教育相关性筛选**：
  - 使用教育关键词列表，若新闻未命中任何关键词 → 丢弃
- **输出**：初筛新闻列表

### 2.3 新闻溯源与聚合
- **溯源规则**：
  - 找到最近的**官方媒体报道**
  - 若源头为自媒体/个人账号 → 截止在最近的官方媒体
- **聚合规则**：
  - 将多篇报道聚合为一个事件集合
- **输出**：带溯源链路的新闻集合

### 2.4 摘要与重点提取
- **摘要要求**：
  - 不仅是简要概括，还要标注与**教工委关注点**相关的内容
  - 示例：活动、政策、校园开放、师生安全等
- **输出**：带重点摘要的新闻集合

### 2.5 新闻排序
- **打分维度**：
  - 新闻重要性：涉及范围大、社会关注度高
  - 来源权威性：新华社/人民日报/央视等加权
  - 教工委相关性：与活动、政策、关切话题强相关加权
- **输出**：系统按分数排序的新闻列表

### 2.6 人工选择
- 提供交互界面，人工点选需要的新闻进入简报生成环节

### 2.7 简报生成
- **排序规则**：中小学 → 高校 → 其他社会新闻
- **格式**：纯文本（可直接复制）
- **内容**：
  - 日期 + 报告期号
  - 按分类输出新闻标题 + 摘要 + 来源
- **输出**：当日新闻简报（TXT）

### 2.8 入库管理（PostgreSQL）
- 所有已经爬下来的新闻均保存（无论是否被筛选），但最终被提交的新闻需要能够区分出来
- 反馈更新：
  - 相同新闻的修改 → 覆盖（通常可以按照标题来匹配，但有些时候标题也会被修改，可能需要向量相似度匹配，此时可以弹窗让人工确认一下）
  - 新新闻 → 新增

---

## 3. 非功能需求
- **稳定性**：每天定时运行，容错能力（网络错误自动重试）
- **可扩展性**：可新增关键词和媒体来源，配置文件驱动
- **易维护性**：日志与错误提示清晰，支持快速排查

---

## 4. 系统流程图（示意）

```
爬取新闻 → 去重筛选 → 溯源聚合 → 摘要提取 → 系统排序 → 人工选择 → 简报生成 → 入库
```

---

## 5. 优先级

- **MVP（最小可用版本）**  
  - 新闻爬取  
  - 去重筛选  
  - 摘要生成  
  - 人工选择  
  - 简报输出  

- **迭代功能**  
  - 溯源聚合  
  - 自动打分排序  
  - 入库反馈覆盖更新  

---

## 6. 未来扩展
- 支持多渠道输出（Word/PDF/邮件推送）
- 数据可视化（新闻热度、关键词趋势）
- 引入机器学习模型改进去重与教育相关性判断
